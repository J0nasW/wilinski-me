---
interface Props {
    variant?: 'default' | 'accent' | 'success' | 'warning' | 'outline';
    size?: 'sm' | 'md';
    class?: string;
    dot?: boolean;
    pulse?: boolean;
}

const {
    variant = 'default',
    size = 'md',
    class: className = '',
    dot = false,
    pulse = false,
} = Astro.props;

const baseStyles = 'inline-flex items-center font-medium rounded-full transition-colors';

const variants = {
    default: 'bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300',
    accent: 'bg-accent/10 text-accent dark:bg-accent/20',
    success: 'bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400',
    warning: 'bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400',
    outline: 'bg-transparent border border-neutral-200 dark:border-neutral-700 text-neutral-600 dark:text-neutral-400',
};

const sizes = {
    sm: 'px-2 py-0.5 text-xs gap-1',
    md: 'px-3 py-1 text-sm gap-1.5',
};

const dotColors = {
    default: 'bg-neutral-500',
    accent: 'bg-accent',
    success: 'bg-emerald-500',
    warning: 'bg-amber-500',
    outline: 'bg-neutral-500',
};

const classes = `${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`;
---

<span class={classes}>
    {dot && (
        <span class="relative flex h-2 w-2">
            {pulse && (
                <span class={`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${dotColors[variant]}`}></span>
            )}
            <span class={`relative inline-flex rounded-full h-2 w-2 ${dotColors[variant]}`}></span>
        </span>
    )}
    <slot />
</span>
