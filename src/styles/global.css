@import "tailwindcss";
@variant dark (&:where(.dark, .dark *));

@theme {
    --font-display: 'Outfit', system-ui, sans-serif;
    --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
    --font-serif: 'Crimson Pro', serif;

    /* Accent Color - Cyan/Teal */
    --color-accent-50: #ECFEFF;
    --color-accent-100: #CFFAFE;
    --color-accent-200: #A5F3FC;
    --color-accent-300: #67E8F9;
    --color-accent-400: #22D3EE;
    --color-accent: #06B6D4;
    --color-accent-500: #06B6D4;
    --color-accent-600: #0891B2;
    --color-accent-700: #0E7490;
    --color-accent-800: #155E75;
    --color-accent-900: #164E63;
    --color-accent-950: #083344;

    /* Custom Timing Functions */
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);

    /* Animation definitions */
    --animate-fade-in-up: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    --animate-fade-in: fadeIn 0.6s ease-out forwards;
    --animate-pulse-slow: pulseSlow 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --animate-float: float 6s ease-in-out infinite;

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes pulseSlow {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    @keyframes marquee {
        from { transform: translateX(0); }
        to { transform: translateX(-50%); }
    }

    @keyframes menuReveal {
        from {
            clip-path: circle(0% at calc(100% - 48px) 48px);
        }
        to {
            clip-path: circle(150% at calc(100% - 48px) 48px);
        }
    }

    /* Bold gradient animations */
    @keyframes gradientDrift {
        0%, 100% {
            transform: translate(0, 0) scale(1);
            opacity: 1;
        }
        25% {
            transform: translate(8%, -8%) scale(1.1);
            opacity: 0.85;
        }
        50% {
            transform: translate(-5%, 5%) scale(0.9);
            opacity: 1;
        }
        75% {
            transform: translate(-8%, -4%) scale(1.05);
            opacity: 0.9;
        }
    }

    @keyframes gradientDriftAlt {
        0%, 100% {
            transform: translate(0, 0) scale(1);
            opacity: 1;
        }
        33% {
            transform: translate(-6%, 8%) scale(1.15);
            opacity: 0.8;
        }
        66% {
            transform: translate(6%, -6%) scale(0.85);
            opacity: 1;
        }
    }

    @keyframes shimmer {
        0% {
            background-position: -200% center;
        }
        100% {
            background-position: 200% center;
        }
    }

    @keyframes aurora {
        0%, 100% {
            opacity: 0.6;
            filter: blur(40px) hue-rotate(0deg);
            transform: translateY(0);
        }
        50% {
            opacity: 1;
            filter: blur(60px) hue-rotate(20deg);
            transform: translateY(-3%);
        }
    }

    --animate-gradient-drift: gradientDrift 15s ease-in-out infinite;
    --animate-gradient-drift-alt: gradientDriftAlt 18s ease-in-out infinite;
    --animate-shimmer: shimmer 6s ease-in-out infinite;
    --animate-aurora: aurora 10s ease-in-out infinite;
    --animate-scale-in: scaleIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;

    @keyframes scaleIn {
        from {
            opacity: 0;
            transform: scale(0.9);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }
}

/* ==================== Base Styles ==================== */
html {
    scroll-behavior: smooth;
}

body {
    @apply bg-white text-neutral-900 dark:bg-neutral-900 dark:text-neutral-50;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
}

/* ==================== Selection ==================== */
::selection {
    background-color: rgb(6 182 212 / 0.2);
    @apply text-cyan-900 dark:text-cyan-100;
}

/* ==================== Scrollbar ==================== */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    @apply bg-neutral-100 dark:bg-neutral-800;
}

::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 dark:bg-neutral-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral-400 dark:bg-neutral-500;
}

/* ==================== Focus Styles ==================== */
:focus-visible {
    @apply outline-none ring-2 ring-cyan-500 ring-offset-2 ring-offset-white dark:ring-offset-neutral-900;
}

/* ==================== Scroll Reveal System ==================== */
[data-reveal] {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease, transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

[data-reveal].revealed {
    opacity: 1;
    transform: translateY(0);
}

[data-reveal="left"] {
    transform: translateX(-30px);
}

[data-reveal="left"].revealed {
    transform: translateX(0);
}

[data-reveal="right"] {
    transform: translateX(30px);
}

[data-reveal="right"].revealed {
    transform: translateX(0);
}

[data-reveal="scale"] {
    transform: scale(0.95);
}

[data-reveal="scale"].revealed {
    transform: scale(1);
}

/* Stagger children - use with CSS variable --index */
[data-stagger] > * {
    transition-delay: calc(var(--stagger-index, 0) * 0.1s);
}

/* ==================== Custom Utilities ==================== */
.animate-gradient-drift {
    animation: gradientDrift 15s ease-in-out infinite;
}

.animate-gradient-drift-alt {
    animation: gradientDriftAlt 18s ease-in-out infinite;
}

.animate-pulse-ring {
    animation: pulseRing 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-pulse-ring-delayed {
    animation: pulseRing 2s cubic-bezier(0.4, 0, 0.6, 1) infinite 0.5s;
}

@keyframes pulseRing {
    0% {
        transform: scale(1);
        opacity: 0.6;
    }
    50% {
        transform: scale(1.8);
        opacity: 0;
    }
    100% {
        transform: scale(1);
        opacity: 0;
    }
}

.glass-panel {
    @apply bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl border border-neutral-200/50 dark:border-neutral-700/50;
}

.text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(
        90deg,
        var(--color-accent) 0%,
        #22D3EE 25%,
        var(--color-accent) 50%,
        #22D3EE 75%,
        var(--color-accent) 100%
    );
    background-size: 200% auto;
    animation: shimmer 8s linear infinite;
}

.text-gradient-neutral {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-neutral-900 to-neutral-600 dark:from-white dark:to-neutral-400;
}

/* Noise texture overlay */
.bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.5'/%3E%3C/svg%3E");
    background-size: 128px;
}

/* Grid pattern background */
.bg-grid {
    background-image:
        linear-gradient(to right, theme('colors.neutral.200') 1px, transparent 1px),
        linear-gradient(to bottom, theme('colors.neutral.200') 1px, transparent 1px);
    background-size: 40px 40px;
}

.dark .bg-grid {
    background-image:
        linear-gradient(to right, theme('colors.neutral.800') 1px, transparent 1px),
        linear-gradient(to bottom, theme('colors.neutral.800') 1px, transparent 1px);
}

/* Dot pattern background */
.bg-dots {
    background-image: radial-gradient(circle, theme('colors.neutral.300') 1px, transparent 1px);
    background-size: 24px 24px;
}

.dark .bg-dots {
    background-image: radial-gradient(circle, theme('colors.neutral.700') 1px, transparent 1px);
}

/* ==================== Card Hover Effects ==================== */
.card-hover {
    @apply transition-all duration-300 ease-out-expo;
}

.card-hover:hover {
    @apply -translate-y-1 shadow-xl;
}

/* ==================== Link Styles ==================== */
.link-underline {
    @apply relative;
}

.link-underline::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-px bg-accent transition-all duration-300;
}

.link-underline:hover::after {
    @apply w-full;
}

/* ==================== Menu Overlay ==================== */
.menu-overlay {
    clip-path: circle(0% at calc(100% - 48px) 48px);
    transition: clip-path 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

.menu-overlay.open {
    clip-path: circle(150% at calc(100% - 48px) 48px);
}

/* ==================== Typography ==================== */
.prose-custom {
    @apply text-neutral-700 dark:text-neutral-300;
}

.prose-custom h1,
.prose-custom h2,
.prose-custom h3,
.prose-custom h4 {
    @apply font-display text-neutral-900 dark:text-white;
}

.prose-custom a {
    @apply text-accent hover:text-accent-600 dark:hover:text-accent-400 transition-colors;
}

.prose-custom code {
    @apply bg-neutral-100 dark:bg-neutral-800 px-1.5 py-0.5 rounded text-sm;
}

.prose-custom pre {
    @apply bg-neutral-900 dark:bg-neutral-950 rounded-xl p-4 overflow-x-auto;
}

.prose-custom blockquote {
    @apply border-l-4 border-accent pl-4 italic text-neutral-600 dark:text-neutral-400;
}

/* Drop cap for articles */
.drop-cap::first-letter {
    @apply float-left text-6xl font-display font-bold leading-none mr-3 mt-1 text-accent;
}

/* ==================== Reduced Motion ==================== */
@media (prefers-reduced-motion: reduce) {
    *,
    ::before,
    ::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    [data-reveal] {
        opacity: 1;
        transform: none;
    }
}
